# C#

## ìŠ¬ë¼ì´ë”© ìœˆë„ìš°(Sliding Window)ë€?

"ê³ ì •ëœ í¬ê¸°ì˜ ìœˆë„ìš°(ë²”ìœ„)ë¥¼ ìœ ì§€í•˜ë©´ì„œ ë°°ì—´ì„ ìˆœíšŒí•˜ëŠ” ê¸°ë²•"

- íŠ¹ì • í¬ê¸°ì˜ êµ¬ê°„(ìœˆë„ìš°) ì„ ì„¤ì •í•˜ê³ , í•œ ì¹¸ì”© ì´ë™í•˜ë©´ì„œ ê°’ì„ ê°±ì‹ 
- O(N) ì‹œê°„ ë³µì¡ë„ë¡œ ìµœì í™” ê°€ëŠ¥
- ì£¼ë¡œ ìµœì†Œê°’/ìµœëŒ€ê°’/í•©ì„ êµ¬í•  ë•Œ í™œìš©

## ìœˆë„ìš°ì—ì„œ Sum êµ¬í•˜ê¸°

```C#
int[] prefixSum = new int[N + 1];

// ëˆ„ì  í•© ê³„ì‚°
for (int i = 1; i <= N; i++)
    prefixSum[i] = prefixSum[i - 1] + arr[i - 1];

// ê° ìœˆë„ìš° í•© ê³„ì‚° (O(1)ìœ¼ë¡œ êµ¬í•¨)
for (int i = L; i <= N; i++)
{
    int windowSum = prefixSum[i] - prefixSum[i - L];
    Console.Write(windowSum + " ");
}

```

## ìœˆë„ìš°ì—ì„œ ìµœì†Ÿê°’/ìµœëŒ€ê°’ êµ¬í•˜ê¸°

- ë±ì˜ ì•ìª½ì— ìµœì†Œê°’/ìµœëŒ€ê°’ ìœ ì§€

```C#
LinkedList<(int index, int value)> deque = new LinkedList<(int, int)>();

for (int i = 0; i < N; i++)
{
    int num = arr[i];

    // ë±ì˜ ë’¤ì—ì„œ í˜„ì¬ ê°’ë³´ë‹¤ í° ê°’ ì œê±° (ìµœì†Œê°’ ìœ ì§€)
    while (deque.Count > 0 && deque.Last.Value.value > num)
        deque.RemoveLast();

    // í˜„ì¬ ìš”ì†Œë¥¼ ë±ì— ì¶”ê°€
    deque.AddLast((i, num));

    // ìœˆë„ìš°ë¥¼ ë²—ì–´ë‚œ ê°’ ì œê±°
    if (deque.First.Value.index <= i - L)
        deque.RemoveFirst();

    // ìµœì†Œê°’ ì¶œë ¥ (ë±ì˜ ì²« ë²ˆì§¸ ê°’)
    Console.Write(deque.First.Value.value + " ");
}

```

## 11003ë²ˆ ë¬¸ì œ ì‚´í´ë³´ì.

### **ğŸ“Œ ë±ì„ í™œìš©í•œ ê³¼ì •**

[1 5 2 3 6 2 3 7 3 5 2 6] ë°ì´í„°ê°€ ì´ë ‡ê²Œ ë“¤ì–´ì˜¤ê³ ìˆë‹¤.
ë±ì˜ ë°ì´í„°ê°€ ì–´ë–»ê²Œ ìŒ“ì´ëŠ”ì§€ ì‚´í´ë³´ë©´, ë§¨ì•ìš”ì†Œê°€ ìµœì†Œê°’ìœ¼ë¡œ ìœ ì§€ëœë‹¤.

| i   | ë°°ì—´ ê°’ | ë± (index, ê°’)      | í˜„ì¬ ìµœì†Œê°’ |
| --- | ------- | ------------------- | ----------- |
| 0   | 1       | (0,1)               | 1           |
| 1   | 5       | (0,1), (1,5)        | 1           |
| 2   | 2       | (0,1), (2,2)        | 1           |
| 3   | 3       | (2,2), (3,3)        | 2           |
| 4   | 6       | (2,2), (3,3), (4,6) | 2           |
| 5   | 2       | (5,2)               | 2           |
...ìƒëµ.

ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ë¡œì§ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. ë±ì˜ ë’¤ì—ì„œ í˜„ì¬ê°’ë³´ë‹¤ í°ê°’ ì œê±°.
2. ë±ì˜ ë’¤ì— ìƒˆë¡œìš´ê°’ ì¶”ê°€.
3. ë±ì˜ ì•ì—ì„œ, ìœˆë„ìš°ë¥¼ ë²—ì–´ë‚œìš”ì†Œ ì œê±°.
4. ë±ì˜ ë§¨ì•ìš”ì†Œê°€ í˜„ì¬ìœˆë„ìš°ì˜ ìµœì†Œê°’.


## LinkedListë¥¼ ì´ìš©í•œ ë°©ë²•
831968KB, 4044ms
```C#
class Program
{
    private const int bufferSize = 131072; //131072=128KB. ê²½í—˜ì  ê°€ì¥ ë¹ ë¥¸ ì†ë„.
    public static readonly StreamReader sr = new(new BufferedStream(Console.OpenStandardInput(), bufferSize));
    public static readonly StreamWriter sw = new(new BufferedStream(Console.OpenStandardOutput(), bufferSize));

    static void Main()
    {
        string[] s = sr.ReadLine().Split();
        int n = int.Parse(s[0]);
        int l = int.Parse(s[1]);

        string[] values = sr.ReadLine().Split();
        LinkedList<(int idx, int val)> deque = new LinkedList<(int, int)>();
        
        for (int i = 0; i < n; i++)
        {
            int num = int.Parse(values[i]);

            // 1. ë±ì˜ ë’¤ì—ì„œ í˜„ì¬ ê°’ë³´ë‹¤ í° ì›ì†Œ ì œê±°
            while (deque.Count > 0 && deque.Last.Value.val > num)
                deque.RemoveLast();

            // 2. ìƒˆë¡œìš´ ê°’ ì¶”ê°€
            deque.AddLast((i, num));

            // 3. ìœˆë„ìš°ë¥¼ ë²—ì–´ë‚œ ìš”ì†Œ ì‚­ì œ
            if (deque.First.Value.idx <= i - l)
                deque.RemoveFirst();

            // 4. í˜„ì¬ ìœˆë„ìš°ì˜ ìµœì†Œê°’ ì €ì¥
            sw.Write(deque.First.Value.val + " ");
        }

        sw.Flush();
    }
}
```

## ë°°ì—´ì„ í™œìš©í•œ ë°©ë²•
548176KB, 1952ms
```C#
class Program
{
    private const int bufferSize = 131072; //131072=128KB. ê²½í—˜ì  ê°€ì¥ ë¹ ë¥¸ ì†ë„.
    public static readonly StreamReader sr = new(new BufferedStream(Console.OpenStandardInput(), bufferSize));
    public static readonly StreamWriter sw = new(new BufferedStream(Console.OpenStandardOutput(), bufferSize));

    static void Main()
    {
        string[] input = sr.ReadLine().Split();
        int N = int.Parse(input[0]);
        int L = int.Parse(input[1]);

        string[] values = sr.ReadLine().Split();
        int[] arr = new int[N];
        for (int i = 0; i < N; i++)
            arr[i] = int.Parse(values[i]);

        int[] queue = new int[N];  // ì¸ë±ìŠ¤ ì €ì¥
        int start = 0, end = 0;   // íì˜ ì•/ë’¤ í¬ì¸í„°

        for (int i = 0; i < N; i++)
        {
            // 1. íì—ì„œ ìœˆë„ìš°ë¥¼ ë²—ì–´ë‚œ ê°’ ì œê±°
            if (start < end && queue[start] <= i - L)
                start++;

            // 2. ìƒˆë¡œìš´ ê°’ì´ ë“¤ì–´ì˜¤ë©´, ê¸°ì¡´ íì˜ ë’·ë¶€ë¶„ì—ì„œ í° ê°’ ì œê±°
            while (start < end && arr[queue[end - 1]] > arr[i])
                end--;

            // 3. í˜„ì¬ ì¸ë±ìŠ¤ë¥¼ íì— ì¶”ê°€
            queue[end++] = i;

            // 4. íì˜ ë§¨ ì•ì´ ìµœì†Ÿê°’ì„ ê°€ì§€ë¯€ë¡œ ê²°ê³¼ì— ì¶”ê°€
            sw.Write(arr[queue[start]] + " ");
        }
        sw.Flush();
    }
}
```